<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>DEWALT CONSTRUCTION SUPPLY CHAIN – Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="style.css" rel="stylesheet">
</head>

<body class="dashboard-page">
<div class="app-container d-flex">

  <!-- =========================
       SIDEBAR
       ========================= -->
  <nav class="sidebar">
    <div class="sidebar-logo">
      <span class="logo-text">DEWALT SUPPLY</span>
    </div>
    <ul class="nav flex-column sidebar-nav">
      <li class="nav-item"><a href="index.html" class="nav-link active">Dashboard</a></li>
      <li class="nav-item"><a href="supplier.html" class="nav-link">Supplier Portal</a></li>
      <li class="nav-item"><a href="manager.html" class="nav-link">Inventory</a></li>
      <li class="nav-item"><a href="reports.html" class="nav-link">Reports</a></li>
    </ul>
  </nav>

  <!-- =========================
       MAIN CONTENT
       ========================= -->
  <div class="main-content flex-grow-1">

    <!-- TOPBAR -->
    <header class="topbar d-flex align-items-center justify-content-between">
      <div class="topbar-title">
        <h1 class="page-title fw-bold">DEWALT CONSTRUCTION SUPPLY CHAIN</h1>
        <p class="page-subtitle">Real-Time Visibility Across Materials, Sites & Suppliers</p>
      </div>

      <div class="topbar-actions d-flex align-items-center gap-2">
        <span class="badge bg-success topbar-badge">LIVE</span>
        <span class="topbar-user">Manager Console</span>
      </div>
    </header>

    <!-- MAIN -->
    <main class="content">

      <!-- =========================
           KPI ROW
           ========================= -->
      <div class="row g-3 mb-4">
        <div class="col-md-4">
          <div class="card p-3 h-100">
            <div class="card-title">Sites</div>
            <div class="d-flex justify-content-between align-items-end">
              <div>
                <div class="fs-3 fw-semibold" id="totalSites">0</div>
                <div class="text-muted small">Total Active Sites</div>
              </div>
              <div class="text-end small">
                <div>Working: <span id="workingSites">0</span></div>
                <div>WIP: <span id="wipSites">0</span></div>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-4">
          <div class="card p-3 h-100">
            <div class="card-title">Inventory Health</div>
            <div class="d-flex justify-content-between align-items-end">
              <div>
                <div class="fs-3 fw-semibold" id="inventoryOK">0</div>
                <div class="text-muted small">Materials OK</div>
              </div>
              <div class="text-end small">
                <div>Low: <span id="inventoryLow">0</span></div>
                <div>Reorder: <span id="inventoryReorder">0</span></div>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-4">
          <div class="card p-3 h-100">
            <div class="card-title">Orders</div>
            <div class="d-flex justify-content-between align-items-end">
              <div>
                <div class="fs-3 fw-semibold" id="totalOrders">0</div>
                <div class="text-muted small">Total Open Orders</div>
              </div>
              <div class="text-end small">
                <div>Scheduled: <span id="scheduledOrders">0</span></div>
                <div>In Transit: <span id="inTransitOrders">0</span></div>
                <div>Delivered: <span id="deliveredOrders">0</span></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- =========================
           STATIC SITE OVERVIEW CARDS
           ========================= -->
      <div class="row g-3 mb-4">
        <div class="col-md-6">
          <div class="card h-100 border border-primary p-3">
            <h5 class="card-title">Klerksoord</h5>
            <p class="small text-muted">Double-storey residential builds. Brickwork in progress.</p>
            <span class="badge bg-info">In Progress</span>
          </div>
        </div>

        <div class="col-md-6">
          <div class="card h-100 border border-warning p-3">
            <h5 class="card-title">Amandasig</h5>
            <p class="small text-muted">Cluster units. Services installation underway.</p>
            <span class="badge bg-warning">Work in Progress</span>
          </div>
        </div>
      </div>

      <!-- =========================
           ADD SITE + LIVE SITE LIST
           ========================= -->
      <div class="row g-3 mb-4">
        <div class="col-lg-6">
          <div class="card p-3">
            <div class="card-title">Add Site</div>

            <form id="siteForm" class="row g-2">
              <div class="col-md-6">
                <label class="form-label small">Site name</label>
                <input type="text" id="siteName" class="form-control form-control-sm">
              </div>

              <div class="col-md-6">
                <label class="form-label small">Status</label>
                <select id="siteStatus" class="form-control form-control-sm">
                  <option value="WORKING">Working</option>
                  <option value="WIP">WIP</option>
                </select>
              </div>

              <div class="col-12 d-flex justify-content-end">
                <button type="submit" class="btn btn-sm btn-primary mt-2">Add Site</button>
              </div>
            </form>

          </div>
        </div>

        <div class="col-lg-6">
          <div class="card p-3">
            <div class="card-title">Captured Sites</div>
            <ul id="siteList" class="small mb-0"></ul>
          </div>
        </div>
      </div>

      <!-- =========================
           CHART + TERMS + CONTACT
           ========================= -->
      <div class="row g-3">
        <div class="col-lg-7">
          <div class="card p-3" style="min-height: 360px;">
            <div class="card-title">Order Status Overview</div>
            <canvas id="orderStatusChart"></canvas>
          </div>
        </div>

        <div class="col-lg-5">
          <div class="card p-3 mb-3">
            <div class="card-title">Terms & Conditions</div>
            <ul class="small mb-2">
              <li>Website usage restricted to authorised DeWalt staff.</li>
              <li>Orders subject to operational guidelines.</li>
            </ul>
          </div>

          <div class="card p-3">
            <div class="card-title">Head Office Contact</div>
            <div class="small mb-2">
              <strong>Address</strong><br>
              41 Verloren Estate, Modimolle, South Africa
            </div>
            <div class="small">
              <strong>Contact</strong><br>
              +27 82 4664 835<br>
              jjjjvw@mweb.co.za
            </div>
          </div>
        </div>
      </div>

    </main>

  </div>
</div>

<!-- LOADING OVERLAY -->
<div id="loadingOverlay" class="loading-overlay d-none">
  <div class="loading-spinner"></div>
  <div class="loading-text">Loading latest supply chain data…</div>
</div>

<!-- SCRIPTS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
<script src="app.js"></script>

</body>
</html>